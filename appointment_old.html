<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeForBeauty - Zakazivanje Termina</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <h1 class="brand-title">TimeForBeauty</h1>
        <div class="header-controls">
            <button id="logoutBtn" class="logout-btn">Logout</button>
        </div>
    </header>

    <!-- Main Appointment Form -->
    <div id="mainContainer" class="container">
        <header>
            <h1>Zakažite Vaš Termin</h1>
            <p>Popunite formu ispod da biste zatražili termin</p>
        </header>

        <form id="appointmentForm" class="appointment-form">

            <div class="form-group">
                <label for="service">Usluga *</label>
                <select id="service" name="service" autocomplete="off" required>
                    <option value="">Izaberite uslugu</option>
                    <option value="konsultacija">Konsultacija</option>
                    <option value="pregled">Pregled</option>
                    <option value="terapija">Terapija</option>
                    <option value="masaža">Masaža</option>
                    <option value="drugo">Drugo</option>
                </select>
            </div>

            <div class="form-group">
                <label>Radnik *</label>
                <div class="worker-selection">
                    <div class="worker-card" data-worker="radnik1">
                        <div class="worker-avatar">
                            <span class="worker-initial">R1</span>
                        </div>
                        <div class="worker-info">
                            <h3>Radnik 1</h3>
                            <p>Specijalista za masažu i terapiju</p>
                        </div>
                        <div class="worker-check">
                            <input type="radio" name="worker" value="radnik1" id="worker1" required>
                            <label for="worker1"></label>
                        </div>
                    </div>
                    
                    <div class="worker-card" data-worker="radnik2">
                        <div class="worker-avatar">
                            <span class="worker-initial">R2</span>
                        </div>
                        <div class="worker-info">
                            <h3>Radnik 2</h3>
                            <p>Specijalista za konsultacije i preglede</p>
                        </div>
                        <div class="worker-check">
                            <input type="radio" name="worker" value="radnik2" id="worker2" required>
                            <label for="worker2"></label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-row">
            <div class="form-group">
                <label for="date">Datum *</label>
                <div class="date-picker-container">
                    <input type="text" id="date" name="date" autocomplete="off" required readonly placeholder="Prvo izaberite radnika" disabled>
                <div id="calendar" class="calendar-widget" style="display: none;">
                    <div class="calendar-header">
                        <button type="button" id="prevMonth">&lt;</button>
                        <span id="monthYear"></span>
                        <button type="button" id="nextMonth">&gt;</button>
                    </div>
                    <div class="calendar-days">
                        <div class="day-header">PON</div>
                        <div class="day-header">UTO</div>
                        <div class="day-header">SRE</div>
                        <div class="day-header">ČET</div>
                        <div class="day-header">PET</div>
                        <div class="day-header">SUB</div>
                        <div class="day-header">NED</div>
                        <div id="calendarDates" class="calendar-dates"></div>
                    </div>
                </div>
            </div>
        </div>

            <div class="form-group">
                <label for="time">Vreme *</label>
                <div class="time-picker-container">
                    <input type="text" id="time" name="time" autocomplete="off" required readonly placeholder="Prvo izaberite radnika" disabled>
                        <div id="timePicker" class="time-picker-widget" style="display: none;">
                            <div class="time-header">
                                <span id="selectedDateDisplay"></span>
                            </div>
                            <div class="time-slots">
                                <div class="time-slot" data-time="09:00">09:00</div>
                                <div class="time-slot" data-time="09:15">09:15</div>
                                <div class="time-slot" data-time="09:30">09:30</div>
                                <div class="time-slot" data-time="09:45">09:45</div>
                                <div class="time-slot" data-time="10:00">10:00</div>
                                <div class="time-slot" data-time="10:15">10:15</div>
                                <div class="time-slot" data-time="10:30">10:30</div>
                                <div class="time-slot" data-time="10:45">10:45</div>
                                <div class="time-slot" data-time="11:00">11:00</div>
                                <div class="time-slot" data-time="11:15">11:15</div>
                                <div class="time-slot" data-time="11:30">11:30</div>
                                <div class="time-slot" data-time="11:45">11:45</div>
                                <div class="time-slot" data-time="12:00">12:00</div>
                                <div class="time-slot" data-time="12:15">12:15</div>
                                <div class="time-slot" data-time="12:30">12:30</div>
                                <div class="time-slot" data-time="12:45">12:45</div>
                                <div class="time-slot" data-time="13:00">13:00</div>
                                <div class="time-slot" data-time="13:15">13:15</div>
                                <div class="time-slot" data-time="13:30">13:30</div>
                                <div class="time-slot" data-time="13:45">13:45</div>
                                <div class="time-slot" data-time="14:00">14:00</div>
                                <div class="time-slot" data-time="14:15">14:15</div>
                                <div class="time-slot" data-time="14:30">14:30</div>
                                <div class="time-slot" data-time="14:45">14:45</div>
                                <div class="time-slot" data-time="15:00">15:00</div>
                                <div class="time-slot" data-time="15:15">15:15</div>
                                <div class="time-slot" data-time="15:30">15:30</div>
                                <div class="time-slot" data-time="15:45">15:45</div>
                                <div class="time-slot" data-time="16:00">16:00</div>
                                <div class="time-slot" data-time="16:15">16:15</div>
                                <div class="time-slot" data-time="16:30">16:30</div>
                                <div class="time-slot" data-time="16:45">16:45</div>
                                <div class="time-slot" data-time="17:00">17:00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="notes">Napomena</label>
                <textarea id="notes" name="notes" rows="4" placeholder="Dodatne informacije..." autocomplete="off"></textarea>
            </div>

            <button type="submit" class="submit-btn">
                <span class="btn-text">Zakaži termin</span>
                <span class="btn-loading" style="display: none;">Šalje se...</span>
            </button>
        </form>

        <div id="message" class="message" style="display: none;"></div>
        
        <!-- Appointment Cards Container -->
        <div id="appointmentCardsContainer" class="appointment-cards-container">
            <!-- Cards will be dynamically added here -->
        </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="appointment.js"></script>
</body>
</html>
